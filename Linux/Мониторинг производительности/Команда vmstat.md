
## Информация в результатах vmstat

## Запускаем  
```sh
watch vmstat
# или
vmstat
# можем перенаправить вывод в файл
vmstat 5 200 > testResult.txt &
# показать все параметры 
vmstat -s
```

### Procs

`r`  — количество процессов в очереди на выполнение процессором (если значение > 0 — налицо нагрузка на процессор);  
`b`  — количество процессов, ожидающих операций  `I/O`  (если значение > 0 — налицо нагрузка на диски и/или файловую систему).  

Значение остальных колонок.

### Memory

`swpd`  — количество блоков, перемещённых в  `swap`;  
`free`  — свободная память (без учёта памяти, занятой буферам и кэшом, тоже, что выводит  `free`  в колонке  `Mem:free`, см.  [тут>>>](http://rtfm.co.ua/linux-utilita-free-i-ochistka-kesha-pamyati/ "Linux: утилита free и очистка кеша памяти"));  
`buff`  — буферы памяти (см. там же);  
`cache`  — кеш (см. там же);

### Swap

`si`  (_swap in_) — количество блоков в секунду, которое система считывает из раздела или файла  `swap`  в память;  
`so`  (_swap out_) — и наоборот, количество блоков в секунду, которое система перемещает из памяти в  `swap`.

В идеале, значение обоих должно быть около нуля или, по крайней мере, не более 10 блоков/секунду.

### IO

`bi`  (_blocks in_) — количество блоков в секунду, считанных с диска;  
`bo`  (_blocks out_) — количество блоков в секунду, записанных на диск;

### System

`in`  (_interrupts_) — количество прерываний в секунду;  
`cs`  (_context switches_) — количество переключений между задачами ]

### CPU

`us`  (_user time_) — % времени  **CPU**, занятый на выполнение «пользовательских» (не принадлежащих ядру) задач;  
`sy`  (_system time_) — % времени  **CPU**, занятый на выполнение задач ядра (сеть,  `I/O`  задачи, прерывания и т.п.);  
`id`  (idle) — % времени в бездействии (ожидании задач)(чем больше тем лучше, значит система простаивает);  
`wa`  — % времени  **CPU**, занятый на ожидание операций  `I/O`(если больше 50% то много тратится времени);  
`st` - так же важный параметр. Если он 0 то это хорошо

## Опции vmstat

`-a`  — переключение колонки  `memory`  в  `active/inactive`  значение вместо  `buff/cache`  (`active`  — память, реально используемая в данный момент определённым процессом,  `inactive`  — память, выделенная ранее какому-то процессу, которого уже нет);  
`-f`  — информация о количестве системных вызовов  `fork(2), vfork(2)`  и  `rfork(2)`, выполненных с момента старта системы, и количество страниц виртуальной памяти, задействованных каждым из них;  
`-m`  — использование динамической памяти ядра, выделенной с использованием  `malloc(9)`;  
`-n`  — задаёт интервал выполнения в секундах;  
`-s`  — изменение вида отображение результатов (в две колонки);  
`-d`  — статистика использования дисков;  
`-w`  — увеличивает визуальный размер поля для больших объемов;  
`-p [partition name]`  — с указанием имени раздела, информация по конкретном разделу (`read/writes`);  
`-S [k | K | m | M]`  — с указанием в чем выводить информацию (килобиты, килобайты, мегабиты, мегабайты соответственно);  
`-V`  — версия  `vmstat`.

> https://rtfm.co.ua/linux-opisanie-utility-vmstat/


## Немного для себя  
`swapp` - нужен для подстраховки. И если что-то часто "свопится" на диск, то это не очень хорошо.  
`free` - показывает сколько свободно памяти  
`buff` - сколько зарезервировано для процессов самой системой  
`cache` - данные к которым нужно часто обращаться.  

```sh
vmstat -a 
```
Покажет дополнительные два параметра:  
`active` - сколько памяти используется прмя сейчас  
`inact` - сколько памяти только что освобождено  
Так же что бы посмотреть еще параметры памяти:  
```sh
#память в гигабайтах
free -h 
#память в мегабайтах
free -m 
```